<p>
</p>
<div class="container col-md-12 primary" >
  <div class="panel">
    <div class="panel-heading" ></div>
    <div class="panel panel-body">
         <div class="form-group" >
            <button class="btn btn-primary" (click)="listeA()" style="margin-left: 40%" >Liste Appel</button>
            <button class="btn btn-primary" (click)="porte()" style="margin-left: 3%">Porte Feuille</button>
          </div>
         
          <div *ngIf="liste==0">
              <div class="form-group col-md-6">
                  <input  class="form-control" type="text" name="filtre" required
                   [(ngModel)]="filtres"
                  #name="ngModel" placeholder="Filtrer" >
              </div>
              <table class="table table-bordered table-stripped">
              <tr>
                <th>Prenom</th>
                <th>Nom</th>
                <th>Téléphone</th>
                <th>Option</th>
              </tr>
                  <tr *ngFor="let a of Abonner | filterBy: ['prenom']: filtres">
                      <td>{{a.prenom}}</td>
                      <td>{{a.nom}}</td>
                      <td>{{a.tel}}</td>
                      <td><a ><span style="margin-left: 5%" title="etat" class="glyphicon glyphicon glyphicon-bookmark"></span></a>
                          <a ><span style="margin-left: 5%" title="abonner" class="glyphicon glyphicon-saved"></span></a>
                          <a ><span style="margin-left: 5%" (click)="openModal(template)" title="commentaire" class="glyphicon glyphicon glyphicon-comment"></span></a>
                          <a ><span style="margin-left: 5%" title="finalisé" class="glyphicon 	glyphicon glyphicon-ok"></span></a>
                      </td>
                   </tr> 
            </table>
          </div>
          <div *ngIf="port==1">
               <div class="form-group">
                   <a class="btn btn-default" style="margin-left: 2%" (click)="tout()"> tout afficher</a>
                    <a class="btn btn-danger" style="margin-left: 10%" (click)="rouge()"> non abonné</a>
                    <a class="btn btn-warning" style="margin-left: 2%" (click)="orange()"> abonné delais proche</a>
                    <a class="btn btn-success" style="margin-left: 2%" (click)="vert()"> abonné</a>
               </div>
              <table class="table table-bordered table-stripped">
                <tr>
                  <th>Prenom</th>
                  <th>Nom</th>
                  <th>Téléphone</th>
                  <th>Commantaire</th>
                  <th>Option</th>
                </tr>
                    <tr *ngFor="let a of Abonner | filterBy: ['etat']: filtrePortFeuille" [ngStyle]="{'background-color':getColor(a.etat)}">
                        <td>{{a.prenom}}</td>
                        <td>{{a.nom}}</td>
                        <td>{{a.tel}}</td>
                        <td>{{a.commentaire}}</td>
                        <td><a ><span style="margin-left: 5%" title="etat" class="glyphicon glyphicon glyphicon-bookmark"></span></a>
                            <a ><span style="margin-left: 5%" title="abonné" class="glyphicon glyphicon glyphicon-user"></span></a>
                            <a ><span style="margin-left: 5%"  title="commentaire" class="glyphicon glyphicon glyphicon-comment"></span></a>
                            <a ><span style="margin-left: 5%" title="finalisé" class="glyphicon 	glyphicon glyphicon-ok"></span></a>
                        </td>
                     </tr> 
                    <!-- <tr *ngFor="let a of Abonner" [ngStyle]="{'background-color':getColor(a.etat)}">
                        <td>{{a.prenom}}</td>
                        <td>{{a.nom}}</td>
                        <td>{{a.tel}}</td>
                        <td>{{a.tel}}</td>
                        <td><a ><span style="margin-left: 5%" title="etat" class="glyphicon glyphicon glyphicon-bookmark"></span></a>
                            <a ><span style="margin-left: 5%" title="abonné" class="glyphicon glyphicon glyphicon-user"></span></a>
                            <a ><span style="margin-left: 5%"  title="commentaire" class="glyphicon glyphicon glyphicon-comment"></span></a>
                            <a ><span style="margin-left: 5%" title="finalisé" class="glyphicon 	glyphicon glyphicon-ok"></span></a>
                        </td>
                     </tr>--> 
              </table>
            </div>
    </div>
    <ng-template #template>
        <div class="modal-header">
          <h4 class="modal-title pull-left">Commentaire</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div>
              
               <form (ngSubmit)="onClick()"  #patientForm="ngForm">
                  <div class="fform-group">
                    <!-- <label class="control-label">Commentaire</label>
                     <input class="form-control" type="text" name="dateRn" required
                     [(ngModel)]="dateRV"
                     #name="ngModel">-->
                     <textarea class="form-control" name="description" rows="3" cols="10"></textarea>
                  </div>
                 <p></p>
                 <div class="form-group">
                   <input type="submit" class="btn btn-success"  (click)="modalRef.hide();openModal2(template2)" value="Recherche">
                 </div>
                </form>
          </div>
         
        </div>
      </ng-template>
  </div>
</div>
